(()=>{"use strict";var e,t,n,o={30824:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Nav=void 0;const a=i(n(67294)),u=c(n(65999));t.Nav=function(e){const[t,n]=(0,a.useState)(0),[o,r]=(0,a.useState)();return(0,a.useEffect)((()=>{}),[]),a.default.createElement("div",{id:"ScouterNav",style:{cursor:"move",position:"absolute",width:"100%",top:0,background:"white",zIndex:9999},onMouseDown:e.onMouseDown},a.default.createElement("img",{src:u.default}),a.default.createElement("div",{className:"rightBtnBox",style:{flex:1,textAlign:"right"}}))}},57014:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PopupCard=void 0;const c=i(n(67294)),a=n(30824);t.PopupCard=function(e){const[t,n]=(0,c.useState)(!1),o=(0,c.useRef)(null);(0,c.useEffect)((()=>{if(o.current){const t=window.innerWidth,n=window.innerHeight,r=0,i=0,c=t-o.current.clientWidth,a=n-o.current.clientHeight,u=c-20,l=e.selection.anchorNode.parentElement.offsetTop+e.selection.anchorNode.parentElement.clientHeight+20,d=Math.max(r,Math.min(u,c)),s=Math.max(i,Math.min(l,a));o.current.style.left=`${d}px`,o.current.style.top=`${s}px`}}),[e]),(0,c.useEffect)((()=>(document.addEventListener("mousemove",r),document.addEventListener("mouseup",i),()=>{document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",i)})),[t]);const r=e=>{if(t&&o.current){const t=parseFloat(o.current.dataset.offsetX||""),n=parseFloat(o.current.dataset.offsetY||""),r=e.clientX-t,i=e.clientY-n,c=window.innerWidth,a=window.innerHeight,u=0,l=0,d=c-o.current.clientWidth,s=a-o.current.clientHeight,f=Math.max(u,Math.min(r,d)),A=Math.max(l,Math.min(i,s));o.current.style.left=`${f}px`,o.current.style.top=`${A}px`}},i=()=>{n(!1)};return c.default.createElement("div",{id:"LearningEnglish2023",ref:o},c.default.createElement(a.Nav,{onMouseDown:e=>{if(n(!0),o.current){const t=o.current.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;o.current.dataset.offsetX=String(n),o.current.dataset.offsetY=String(r)}}}),c.default.createElement("div",{className:"contentBox",style:{marginTop:"45px"}},"PopupCard"))}},98042:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function c(e){try{u(o.next(e))}catch(e){i(e)}}function a(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}u((o=o.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(93150)),c=(r(n(67294)),r(n(73935)),n(57014),n(93980));let a,u;n(76981),o(void 0,void 0,void 0,(function*(){u=yield(0,c.getUserInfo)(),console.log("USER_INFO:"),console.log(u),i.default.runtime.sendMessage({type:"setModel",messages:{}}).then((e=>{a=e.data}))}));let l=null;const d=new MutationObserver((function(e){e.forEach((function(e){if(document.querySelector('div.kVhsm[data-test*="blame-incorrect"]')){const e=function(){let e="",t="",n=[];const o=document.querySelector("div._1y-0G._3IQqi._2RC-4.d84Fd");if(o){const r=o.querySelector('div[dir="ltr"]'),i=document.querySelector("div._1UqAr._3Qruy");if(r&&i){e="";const c=r.querySelectorAll("span"),a=[];c.forEach((t=>{"_2Iqyl"===t.className?(e+="(",o.querySelectorAll('span[data-test="challenge-judge-text"]').forEach((e=>{a.push(e.textContent)})),e+=a.join("/"),e+=")"):"g-kCu"===t.className&&(e+=t.textContent)})),t=i.textContent,n=A(e,["Front"])}}const r=document.querySelector("div._1lDmW.d84Fd");if(r){const o=r.querySelector("div._1KUxv._11rtD"),i=document.querySelector("div._1UqAr._3Qruy");e=o?o.textContent:null,t=i?i.textContent:null,o&&o.querySelectorAll("span.lwL3T").length>0&&(e=g(document.querySelector("span.g-kCu > ruby._1YQpP"))),i&&i.querySelectorAll("span.lwL3T").length>0&&(t=g(i)),n=r.querySelector("button._1nlVc._2fOC9")?A(e,["Front"]):A(t,["Back"])}const i=document.querySelector("div._3Vm8B._2RC-4.d84Fd");if(i){const o=i.querySelector("div._1iPXH._2Hg6H"),r=document.querySelector("div._1UqAr._3Qruy");e=o?o.textContent:null,t=r?r.textContent:null,e+="<br><br>"+i.querySelector("div._9XgpY._2Hg6H._1dBSx._3slGi").textContent+"<br><br>";const c=[];i.querySelectorAll('span[data-test="challenge-judge-text"]').forEach(((t,n)=>{c.push(t.textContent),e+=n+1+". "+t.textContent+"<br>"})),n=i.querySelector("button._1nlVc._2fOC9")?A(e,["Front"]):A(t,["Back"])}const c=document.querySelector("div._3pyWY._2RC-4.d84Fd");if(c){const n=document.querySelector('h1[data-test="challenge-header"]'),o=c.querySelectorAll("ruby._1YQpP");e=n?n.textContent:"",o&&(e+="<br><br>",o.forEach(((t,n)=>{e+=n+1+". ",t.querySelectorAll("span.lwL3T").forEach((t=>{e+=t.textContent?t.textContent:""})),e+="<br>"})));const r=document.querySelector("div._1UqAr._3Qruy");r&&r.querySelectorAll("span.lwL3T").length>0&&(t=g(r))}return{front:e,back:t,audio:n}}();console.log(e),""!==e.front&&""!==e.back&&(null===l||e.front!==l.front&&e.back!==l.back)&&(f(e),l=e)}}))})),s=document.querySelector("body");s&&d.observe(s,{childList:!0,subtree:!0});const f=e=>{const t={note:{deckName:a[0].defaultDeckName,modelName:a[0].modelName,fields:{[a[0].field1]:e.front,[a[0].field2]:e.back},audio:e.audio,tags:["Duolingo"]}};i.default.runtime.sendMessage({type:"addNote",messages:{anki_arguments:t,anki_action_type:"addNote"}})},A=(e,t)=>{let n=[];const o=document.title;let r="https://dict.youdao.com/dictvoice?type=0&audio=";return r=o.includes("日语")||o.includes("Japanese")?"https://dict.youdao.com/dictvoice?le=jap&type=0&audio=":o.includes("韩语")?"https://dict.youdao.com/dictvoice?le=ko&type=0&audio=":o.includes("xxx")?"https://dict.youdao.com/dictvoice?le=jap&type=0&audio=":"https://dict.youdao.com/dictvoice?type=0&audio=",e&&((new Date).getTime().toString(),n=[{url:r+e,filename:"audio.mp3",fields:t}]),n},g=e=>{let t="";const n=e.querySelectorAll("span.lwL3T");return e.querySelectorAll("rt"),n.length>0&&(null==n||n.forEach(((e,n)=>{e&&(t+=e.textContent)}))),t}},93980:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function c(e){try{u(o.next(e))}catch(e){i(e)}}function a(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}u((o=o.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.cardStyle=t.getUserInfo=t.getSettings=t.getDefaultDeckName=t.ankiAction=void 0;const i=r(n(93150));function c(e,t,n={}){return new Promise(((o,r)=>{fetch("http://127.0.0.1:8765",{method:"POST",body:JSON.stringify({action:e,version:t,params:n})}).then((e=>e.json())).then((e=>{o(e)})).catch((e=>{r({result:[],error:"Please open the Anki client and install the Anki-Connect plugin before trying again."})}))}))}t.ankiAction=c,t.getDefaultDeckName=()=>new Promise(((e,t)=>{let n="";i.default.storage.sync.get(["ankiDeckName"]).then((t=>o(void 0,void 0,void 0,(function*(){t.ankiDeckName?n=t.ankiDeckName:yield c("deckNames",6).then((t=>{!0!==t.result.includes("Duolingo")?c("createDeck",6,{deck:"Duolingo"}).then((t=>{n="Duolingo",e({defaultDeckName:n})})):(n="Duolingo",e({defaultDeckName:n}))})).catch((e=>{}))}))))})),t.getSettings=function(){return o(this,void 0,void 0,(function*(){return yield i.default.storage.sync.get({newLicenseKey:""})}))},t.getUserInfo=()=>new Promise(((e,t)=>{i.default.storage.sync.get(["newLicenseKey"]).then((n=>o(void 0,void 0,void 0,(function*(){i.default.runtime.lastError&&t(chrome.runtime.lastError);let r=!1;if(n.newLicenseKey){const e="https://6r4atckmdr.us.aircode.run/index",t={Authorization:"Bearer "+n.newLicenseKey,"Content-Type":"application/json"};yield fetch(e,{headers:t}).then((e=>o(void 0,void 0,void 0,(function*(){yield e.json().then((e=>{r=e.verified}))}))))}e({verified:r})}))))})),t.cardStyle="\n\n  .card {\n    font-family: arial;\n    font-size: 18px;\n    color: rgb(0 0 0 / 84%);\n    background-color: white;\n    text-align: left;\n    line-height: 1.6;\n  }\n\n  blockquote {\n    border-left: 5px solid #ccc;\n    padding: 8px 16px;\n    margin-left:0;\n    margin-right:0;\n\t\tbackground-color: rgb(0 0 0 / 4%);\n  }\n\n  a {\n    text-decoration: underline;\n  }\n\n  img {\n    max-height: 320px;\n  }\n\n  .ankiSpace {\n    color:#F08A24;\n  }\n\n  .keyWord {\n    color:#F08A24;\n  }\n\n  table {\n    border: 1px solid #ccc;\n    border-collapse: collapse;\n    margin:0;\n    padding:0;\n    width: 100%;\n  }\n\n  table tr {\n    border: 1px solid #ddd;\n    padding: 5px;\n  }\n\n  table th, table td {\n    padding: 10px;\n    text-align: left;\n  }\n\n  table th {\n    letter-spacing: 1px;\n    text-transform: uppercase;\n  }"},65999:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});const o="data:image/png;base64,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"}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={id:e,exports:{}};return o[e].call(n.exports,n,n.exports,i),n.exports}i.m=o,e=[],i.O=(t,n,o,r)=>{if(!n){var c=1/0;for(d=0;d<e.length;d++){for(var[n,o,r]=e[d],a=!0,u=0;u<n.length;u++)(!1&r||c>=r)&&Object.keys(i.O).every((e=>i.O[e](n[u])))?n.splice(u--,1):(a=!1,r<c&&(c=r));if(a){e.splice(d--,1);var l=o();void 0!==l&&(t=l)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,o,r]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(e,o){if(1&o&&(e=this(e)),8&o)return e;if("object"==typeof e&&e){if(4&o&&e.__esModule)return e;if(16&o&&"function"==typeof e.then)return e}var r=Object.create(null);i.r(r);var c={};t=t||[null,n({}),n([]),n(n)];for(var a=2&o&&e;"object"==typeof a&&!~t.indexOf(a);a=n(a))Object.getOwnPropertyNames(a).forEach((t=>c[t]=()=>e[t]));return c.default=()=>e,i.d(r,c),r},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.j=828,(()=>{i.b=document.baseURI||self.location.href;var e={828:0};i.O.j=t=>0===e[t];var t=(t,n)=>{var o,r,[c,a,u]=n,l=0;if(c.some((t=>0!==e[t]))){for(o in a)i.o(a,o)&&(i.m[o]=a[o]);if(u)var d=u(i)}for(t&&t(n);l<c.length;l++)r=c[l],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(d)},n=self.webpackChunkchrome_extension_typescript_starter=self.webpackChunkchrome_extension_typescript_starter||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),i.nc=void 0;var c=i.O(void 0,[736],(()=>i(98042)));c=i.O(c)})();